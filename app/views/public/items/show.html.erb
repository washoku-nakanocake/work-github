<div class="container mt-4">
  <div class="row">
    <!-- 左カラム：ジャンル検索 -->
    <div class="col-md-3">
      <%= render "genre_search", genres: @genres %>
    </div>

    <!-- 中央カラム：商品画像 -->
    <div class="col-md-3">
      <div class="mb-3">
        <%= image_tag @item.image, class: "card-img-top", style: "max-width: 300px;" %>
      </div>
    </div>

    <!-- 右カラム：商品詳細とカート -->
    <div class="col-md-6">
      <div class="mb-2">
        <strong><%= @item.name %></strong>
      </div>

      <div class="mb-2">
        <%= @item.detail %>
      </div>

      <div class="mb-2">
        ¥<%= @item.price_without_tax %>
      </div>

      <div class="mb-3">
        <%= @item.is_active ? "販売中" : "販売停止" %>
      </div>

      <div class="product-purchase mt-3 d-flex align-items-center">
        <%= form_with model: @cart_item, data: { turbo: false }, html: { class: "d-flex" } do |f| %>
          <%= f.hidden_field :item_id, value: @item.id %>
          <%= f.select :amount, *[1..10], {}, class: "form-control mr-2" %>
          <%= f.submit "カートに入れる", class: "btn btn-success" %>
        <% end %>
      </div>
    </div>
  </div>
</div>
